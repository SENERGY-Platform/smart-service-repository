<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn"><bpmn:process id="smart_service_analytics_export_example" name="smart-service: analytics export example" isExecutable="true"><bpmn:startEvent id="StartEvent_1"><bpmn:extensionElements><camunda:formData><camunda:formField id="device" label="device" type="string"><camunda:properties><camunda:property id="iot" value="device" /><camunda:property id="criteria" value="{&#34;interaction&#34;:&#34;event&#34;, &#34;function_id&#34;: &#34;urn:infai:ses:measuring-function:826e5a04-71cc-4935-9fd4-92c930dc06bb&#34;}" /><camunda:property id="description" value="a cycle analysis and with export will be performed on this device" /><camunda:property id="order" value="0" /></camunda:properties></camunda:formField><camunda:formField id="timestamp" label="timestamp" type="string"><camunda:properties><camunda:property id="order" value="1" /><camunda:property id="iot" value="device" /><camunda:property id="same_entity" value="device" /><camunda:property id="criteria" value="{&#34;interaction&#34;:&#34;event&#34;, &#34;function_id&#34;: &#34;urn:infai:ses:measuring-function:3b4e0766-0d67-4658-b249-295902cd3290&#34;}" /><camunda:property id="description" value="timestamp of selected device/value" /></camunda:properties></camunda:formField></camunda:formData></bpmn:extensionElements><bpmn:outgoing>SequenceFlow_1xwyb9z</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_1xwyb9z" sourceRef="StartEvent_1" targetRef="Task_18bc8av" /><bpmn:sequenceFlow id="SequenceFlow_0gnmnhz" sourceRef="Task_18bc8av" targetRef="Task_1xbki89" /><bpmn:serviceTask id="Task_18bc8av" name="cycle analyse" camunda:type="external" camunda:topic="analytics"><bpmn:extensionElements><camunda:inputOutput><camunda:inputParameter name="analytics.flow_id">62bd43205e353260a94ad6cd</camunda:inputParameter><camunda:inputParameter name="analytics.name">smart-service cycle analytics</camunda:inputParameter><camunda:inputParameter name="analytics.desc">cycle analytics</camunda:inputParameter><camunda:inputParameter name="analytics.selection.44bdd4c9-f2dd-4f3d-bcf5-22164bd77e67.value">${device}</camunda:inputParameter><camunda:inputParameter name="analytics.conf.44bdd4c9-f2dd-4f3d-bcf5-22164bd77e67.Threshold">-1</camunda:inputParameter><camunda:inputParameter name="analytics.conf.44bdd4c9-f2dd-4f3d-bcf5-22164bd77e67.minDuration">0</camunda:inputParameter><camunda:inputParameter name="analytics.conf.44bdd4c9-f2dd-4f3d-bcf5-22164bd77e67.Timezone">+02:00</camunda:inputParameter><camunda:inputParameter name="analytics.selection.44bdd4c9-f2dd-4f3d-bcf5-22164bd77e67.timestamp">${timestamp}</camunda:inputParameter><camunda:outputParameter name="pipelineId">${pipeline_id}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1xwyb9z</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gnmnhz</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Task_1xbki89" name="analyse export" camunda:type="external" camunda:topic="export"><bpmn:extensionElements><camunda:inputOutput><camunda:inputParameter name="export.request"><camunda:script scriptFormat="JavaScript">JSON.stringify({
   "FilterType":"operatorId",
   "Filter":pipelineId+":62bd42f48e0748990e225f07",
   "Name":"smart-service-export-example",
   "EntityName":"62bd42f48e0748990e225f07",
   "ServiceName":"cyclecounter",
   "Description":"example for smart service cyclecounter export",
   "Topic":"analytics-cyclecounter",
   "TimePath":"time",
   "TimePrecision":"s",
   "generated":true,
   "Offset":"largest",
   "Values":[
      {
         "Name":"DayCounter",
         "Type":"float",
         "Path":"analytics.DayCounter",
         "Tag":false
      }
   ],
   "DatabaseType":"influxdb"
})</camunda:script></camunda:inputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gnmnhz</bpmn:incoming><bpmn:outgoing>SequenceFlow_0y04il1</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_13rztj5"><bpmn:incoming>SequenceFlow_0y04il1</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_0y04il1" sourceRef="Task_1xbki89" targetRef="EndEvent_13rztj5" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="smart_service_analytics_export_example"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="322" y="102" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_1xwyb9z_di" bpmnElement="SequenceFlow_1xwyb9z"><di:waypoint x="358" y="120" /><di:waypoint x="420" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gnmnhz_di" bpmnElement="SequenceFlow_0gnmnhz"><di:waypoint x="520" y="120" /><di:waypoint x="580" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="ServiceTask_0t62bc6_di" bpmnElement="Task_18bc8av"><dc:Bounds x="420" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_17svsle_di" bpmnElement="Task_1xbki89"><dc:Bounds x="580" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_13rztj5_di" bpmnElement="EndEvent_13rztj5"><dc:Bounds x="742" y="102" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="SequenceFlow_0y04il1_di" bpmnElement="SequenceFlow_0y04il1"><di:waypoint x="680" y="120" /><di:waypoint x="742" y="120" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>